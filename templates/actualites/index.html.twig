{% extends 'accueil_base.html.twig' %}

{% block title %}Blog Gazette Solutions - Actualités Juridiques
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('css/actualites/globals.css')|replace({"/assets/": "assets/"}) }}?v={{ "now"|date("U") }}">
	<link rel="stylesheet" href="{{ asset('css/actualites/styleguide.css')|replace({"/assets/": "assets/"}) }}?v={{ "now"|date("U") }}">
	<link rel="stylesheet" href="{{ asset('css/actualites/style.css')|replace({"/assets/": "assets/"}) }}?v={{ "now"|date("U") }}">
	<link rel="stylesheet" href="{{ asset('css/actualites/responsive-style.css')|replace({"/assets/": "assets/"}) }}?v={{ "now"|date("U") }}">
{% endblock %}

{% block content %}
	<div
		class="element-actus">
		<!-- Hero Section -->
		<section class="hero">
			<div class="background">
				<div class="hero-content">
					<div class="hero-tag">ACTUALITÉS JURIDIQUES</div>
					<div class="hero-title">
						<h1>
							<span class="title-line">Le</span>
							<span class="title-line">
								<span class="title-underline">blog Gazette Solution</span>
							</span>
						</h1>
						<p class="hero-subtitle">Votre source d'expertise en formalités légales.</p>
					</div>
					<p class="hero-description">
						Des analyses éclairées pour les professionnels du droit et toute l'actualité du cabinet. 
																															        Découvrez les tendances, les retours d'expérience et les conseils pour naviguer efficacement 
																															        dans le monde des formalités juridiques en ligne.
					</p>
				</div>
				<div class="hero-image">
					<img src="https://c.animaapp.com/ml2mibj9gkulId/img/illustrations-heros-actus-1.png" alt="Illustration">
				</div>
			</div>
		</section>

		<!-- Blog Section -->
		<section
			class="blog-section">
			<!-- Featured Article -->
			<div class="section-header">
				<h2 class="section-title">
					<span class="title-underline-small">A LA UNE</span>
				</h2>
			</div>

			<div class="section-subtitle">
				<p>L'actualité juridique évolue vite.<br>Les news Gazette Solutions, sans superflu.</p>
			</div>

			<div class="featured-article-container">
				{% if articles|length > 0 %}
					{% set featured = articles[0] %}
					<article class="article-card article-featured">
						<div class="article-image" style="background-image: url('{{ featured.data.main_image.url|default('') }}'); background-size: cover; background-position: center;"></div>
						<div class="article-content">
							<span class="article-tag">{{ featured.data.category|as_text|default('Astuces') }}</span>
							<div class="article-meta">
								<span>{{ featured.last_publication_date|date('d/m/Y') }}</span>
								<span>|</span>
								<span>{{ featured.data.reading_time|as_text|default('2 min de lecture') }}</span>
							</div>
							<h3 class="article-title">{{ featured.data.title|as_text }}</h3>
							<a href="{{ path('app_actualites_show', {slug: featured.uid}) }}" class="article-link">
								<span>Lire l'article</span>
								<img src="https://c.animaapp.com/ml2mibj9gkulId/img/outline-interface-arrow-right.svg" alt="">
							</a>
						</div>
					</article>
				{% endif %}
			</div>

			<!-- All Articles -->
			<div class="section-header">
				<h2 class="section-title">
					<span class="title-underline-small">LE BLOG</span>
				</h2>
			</div>

			<div class="section-subtitle">
				<p>Toute l'actualité juridique.</p>
			</div>

			<!-- Filters -->
			<div class="filters">
				<a href="{{ path('app_actualites') }}" class="filter-tag {{ active_category is empty ? 'filter-active' : '' }}" style="text-decoration: none;">Tous les articles</a>
				<a href="{{ path('app_actualites', {category: 'Formalités'}) }}" class="filter-tag {{ active_category == 'Formalités' ? 'filter-active' : '' }}" style="text-decoration: none;">Formalités</a>
				<a href="{{ path('app_actualites', {category: 'Annonces légales'}) }}" class="filter-tag {{ active_category == 'Annonces légales' ? 'filter-active' : '' }}" style="text-decoration: none;">Annonces légales</a>
				<a href="{{ path('app_actualites', {category: 'Astuces'}) }}" class="filter-tag {{ active_category == 'Astuces' ? 'filter-active' : '' }}" style="text-decoration: none;">Astuces</a>
				<a href="{{ path('app_actualites', {category: 'Juridique'}) }}" class="filter-tag {{ active_category == 'Juridique' ? 'filter-active' : '' }}" style="text-decoration: none;">Juridique</a>
				<a href="{{ path('app_actualites', {category: 'Actus La Gazette'}) }}" class="filter-tag {{ active_category == 'Actus La Gazette' ? 'filter-active' : '' }}" style="text-decoration: none;">Actus La Gazette</a>
			</div>

			<!-- Articles Grid -->
			<div class="articles-grid">
				{% for article in articles %}
					<article class="article-card">
						<div class="article-image" style="background-image: url('{{ article.data.main_image.url|default('') }}'); background-size: cover; background-position: center;"></div>
						<div class="article-content">
							<span class="article-tag">{{ article.data.category|as_text|default('Actualités') }}</span>
							<div class="article-meta">
								<span>{{ article.last_publication_date|date('d/m/Y') }}</span>
								<span>|</span>
								<span>{{ article.data.reading_time|as_text|default('2 min de lecture') }}</span>
							</div>
							<h3 class="article-title">{{ article.data.title|as_text }}</h3>
							<a href="{{ path('app_actualites_show', {slug: article.uid}) }}" class="article-link">
								<span>Lire l'article</span>
								<img src="https://c.animaapp.com/ml2mibj9gkulId/img/outline-interface-arrow-right.svg" alt="">
							</a>
						</div>
					</article>
				{% else %}
					<p>Aucun article trouvé.</p>
				{% endfor %}
			</div>

			<!-- Pagination -->
			{% if total_pages > 1 %}
				<div class="pagination">
					{% if current_page > 1 %}
						<a href="{{ path('app_actualites', {page: current_page - 1, category: active_category}) }}" class="pagination-arrow" aria-label="Page précédente" style="text-decoration: none;">
							<img src="https://c.animaapp.com/ml2mibj9gkulId/img/solid-interface-caret-left.svg" alt="">
						</a>
					{% endif %}

					{% for i in 1..total_pages %}
						<a href="{{ path('app_actualites', {page: i, category: active_category}) }}" class="pagination-page {{ i == current_page ? 'pagination-active' : '' }}" style="text-decoration: none;">{{ i }}</a>
					{% endfor %}

					{% if current_page < total_pages %}
						<a href="{{ path('app_actualites', {page: current_page + 1, category: active_category}) }}" class="pagination-arrow" aria-label="Page suivante" style="text-decoration: none;">
							<img src="https://c.animaapp.com/ml2mibj9gkulId/img/outline-interface-caret-right.svg" alt="">
						</a>
					{% endif %}
				</div>
			{% endif %}
		</section>
	</div>
{% endblock %}
